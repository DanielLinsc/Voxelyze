<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Voxelyze: C:/Code/VoxCad/Voxelyze/include/VX_Material.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Voxelyze
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">C:/Code/VoxCad/Voxelyze/include/VX_Material.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">Copyright (c) 2010, Jonathan Hiller (Cornell University)</span>
<a name="l00003"></a>00003 <span class="comment">If used in publication cite &quot;J. Hiller and H. Lipson &quot;Dynamic Simulation of Soft Heterogeneous Objects&quot; In press. (2011)&quot;</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">This file is part of Voxelyze.</span>
<a name="l00006"></a>00006 <span class="comment">Voxelyze is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</span>
<a name="l00007"></a>00007 <span class="comment">Voxelyze is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more details.</span>
<a name="l00008"></a>00008 <span class="comment">See &lt;http://www.opensource.org/licenses/lgpl-3.0.html&gt; for license details.</span>
<a name="l00009"></a>00009 <span class="comment">*******************************************************************************/</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef VX_MATERIAL_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define VX_MATERIAL_H</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="comment">//#include &quot;VX_Enums.h&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;Vec3D.h&quot;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;rapidjson/prettywriter.h&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;rapidjson/stringbuffer.h&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;rapidjson/document.h&quot;</span>
<a name="l00022"></a>00022 
<a name="l00024"></a>00024 
<a name="l00031"></a><a class="code" href="class_c_v_x___material.html">00031</a> <span class="keyword">class </span><a class="code" href="class_c_v_x___material.html" title="Defines the properties a raw material.">CVX_Material</a> {
<a name="l00032"></a>00032         <span class="keyword">public</span>:
<a name="l00033"></a>00033         <a class="code" href="class_c_v_x___material.html#adcf3b57ed884fb666aa7f1417aeb4b38" title="Default Constructor. [in] TODO.">CVX_Material</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a49417b8d1d3fe8f443e2cec5b142dded" title="Returns Youngs modulus in Pa.">youngsModulus</a>=1e6f, <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a567cf6aac0d1bbe459d9ad02402d2cda" title="Returns the current density.">density</a>=1e3f); 
<a name="l00034"></a><a class="code" href="class_c_v_x___material.html#a4860df2e54342e62b1e0b79e8923196c">00034</a>         <a class="code" href="class_c_v_x___material.html#a4860df2e54342e62b1e0b79e8923196c" title="rapidjson::Value* pR">CVX_Material</a>(rapidjson::Value&amp; mat) {readJSON(mat);} 
<a name="l00035"></a>00035         <span class="comment">//CVX_Material(CVX_Material* mat1, CVX_Material* mat2); //!&lt; Constructs this material from two constituent materials. The materials are combined such that the properties are the &quot;best approximation&quot; of a link material between two dissimilar adjacent voxel material (i.e half mat1, half mat2). As an illustration the stiffness (Young&#39;s Modulus) is set according to two springs in series (instead of a straight average) to account for the simulated material division in the middle of the link.</span>
<a name="l00036"></a>00036         <span class="keyword">virtual</span> ~<a class="code" href="class_c_v_x___material.html" title="Defines the properties a raw material.">CVX_Material</a>(<span class="keywordtype">void</span>) {}; 
<a name="l00037"></a><a class="code" href="class_c_v_x___material.html#a058d984811a5b575ee506ef8985647bd">00037</a>         <a class="code" href="class_c_v_x___material.html#a058d984811a5b575ee506ef8985647bd" title="Destructor. //Virtual so we can just keep track of generic material pointers for voxel and link mater...">CVX_Material</a>(<span class="keyword">const</span> <a class="code" href="class_c_v_x___material.html" title="Defines the properties a raw material.">CVX_Material</a>&amp; vIn) {*<span class="keyword">this</span> = vIn;} 
<a name="l00038"></a>00038         <span class="keyword">virtual</span> <a class="code" href="class_c_v_x___material.html" title="Defines the properties a raw material.">CVX_Material</a>&amp; <a class="code" href="class_c_v_x___material.html#a04f92a3666f0c05be73d7cf6c30c95bd" title="Equals operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_c_v_x___material.html" title="Defines the properties a raw material.">CVX_Material</a>&amp; vIn); 
<a name="l00039"></a>00039 
<a name="l00040"></a>00040         <span class="keywordtype">void</span> clear();
<a name="l00041"></a><a class="code" href="class_c_v_x___material.html#ab1c1601e91c2dbd496a30566a75d1499">00041</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_c_v_x___material.html#ab1c1601e91c2dbd496a30566a75d1499" title="Returns the last error encountered for this object.">lastError</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> error.c_str();} 
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="class_c_v_x___material.html#a4cf7493d6f72d0c9a1044789fefd8a03">00043</a>         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a4cf7493d6f72d0c9a1044789fefd8a03" title="Adds an optional name to the material.">setName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_c_v_x___material.html#aa0c7321b4f9abe69748aadd5f47b697b" title="Returns the optional material name if one was specifed. Otherwise returns an empty string...">name</a>) {myName = std::string(name);} 
<a name="l00044"></a><a class="code" href="class_c_v_x___material.html#aa0c7321b4f9abe69748aadd5f47b697b">00044</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_c_v_x___material.html#aa0c7321b4f9abe69748aadd5f47b697b" title="Returns the optional material name if one was specifed. Otherwise returns an empty string...">name</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> myName.c_str();} 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">//      float stress(float strain); //!&lt;returns the stress of the material model at the specified strain. @param [in] strain The strain to query.</span>
<a name="l00047"></a>00047         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#aaa9dde97d15b2302f0ca17afbe770a8e" title="returns the stress of the material model accounting for volumetric strain effects.">stress</a>(<span class="keywordtype">float</span> strain, <span class="keywordtype">float</span> transverseStrainSum=0.0f, <span class="keywordtype">bool</span> forceLinear = <span class="keyword">false</span>); 
<a name="l00048"></a>00048         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#aa83d8df7f8a388f69276201a2b37a9d8" title="returns the modulus (slope of the stress/strain curve) of the material model at the specified strain...">modulus</a>(<span class="keywordtype">float</span> strain); 
<a name="l00049"></a><a class="code" href="class_c_v_x___material.html#a2d3a0a2f31f2f1394db01326aec3dddf">00049</a>         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#a2d3a0a2f31f2f1394db01326aec3dddf" title="Returns true if the specified strain is past the yield point (if one is specified).">isYielded</a>(<span class="keywordtype">float</span> strain) {<span class="keywordflow">return</span> epsilonYield != -1.0f &amp;&amp; strain&gt;epsilonYield;} 
<a name="l00050"></a><a class="code" href="class_c_v_x___material.html#ad2c82af73a1f2807b330ecfe738c094b">00050</a>         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#ad2c82af73a1f2807b330ecfe738c094b" title="Returns true if the specified strain is past the failure point (if one is specified).">isFailed</a>(<span class="keywordtype">float</span> strain) {<span class="keywordflow">return</span> epsilonFail != -1.0f &amp;&amp; strain&gt;epsilonFail;} 
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         <span class="comment">//color</span>
<a name="l00053"></a>00053         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a94609470cb395e2c13fb513748346813" title="Sets the material color. Values from [0,255].">setColor</a>(<span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a73eefecfbc791213ea80ff60d2194ea9" title="Returns the red channel of the material color [0,255] or -1 if unspecified.">red</a>, <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#aa0e8ea505f9536b9dc4360990e31c4e5" title="Returns the green channel of the material color [0,255] or -1 if unspecified.">green</a>, <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a60c2ce3fbd57bc6abeb003d6c72b7d5c" title="Returns the blue channel of the material color [0,255] or -1 if unspecified.">blue</a>, <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a0f3e0726e75bb117552531fa6b999790" title="Returns the alpha channel of the material color [0,255] or -1 if unspecified.">alpha</a>=255); 
<a name="l00054"></a>00054         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a45db7941a46930847eeecb12cba1550b" title="Sets the red channel of the material color.">setRed</a>(<span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a73eefecfbc791213ea80ff60d2194ea9" title="Returns the red channel of the material color [0,255] or -1 if unspecified.">red</a>); 
<a name="l00055"></a>00055         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#aeea1e1fa86429a249e61dc8f4eb595ce" title="Sets the green channel of the material color.">setGreen</a>(<span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#aa0e8ea505f9536b9dc4360990e31c4e5" title="Returns the green channel of the material color [0,255] or -1 if unspecified.">green</a>); 
<a name="l00056"></a>00056         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#aa0b3d3b918092b1382cd50087b416de3" title="Sets the blue channel of the material color.">setBlue</a>(<span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a60c2ce3fbd57bc6abeb003d6c72b7d5c" title="Returns the blue channel of the material color [0,255] or -1 if unspecified.">blue</a>); 
<a name="l00057"></a>00057         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#ac4d7ba9c14774514c38791cd36a2d4d9" title="Sets the alpha channel of the material color.">setAlpha</a>(<span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a0f3e0726e75bb117552531fa6b999790" title="Returns the alpha channel of the material color [0,255] or -1 if unspecified.">alpha</a>); 
<a name="l00058"></a><a class="code" href="class_c_v_x___material.html#a73eefecfbc791213ea80ff60d2194ea9">00058</a>         <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a73eefecfbc791213ea80ff60d2194ea9" title="Returns the red channel of the material color [0,255] or -1 if unspecified.">red</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> r;} 
<a name="l00059"></a><a class="code" href="class_c_v_x___material.html#aa0e8ea505f9536b9dc4360990e31c4e5">00059</a>         <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#aa0e8ea505f9536b9dc4360990e31c4e5" title="Returns the green channel of the material color [0,255] or -1 if unspecified.">green</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> g;} 
<a name="l00060"></a><a class="code" href="class_c_v_x___material.html#a60c2ce3fbd57bc6abeb003d6c72b7d5c">00060</a>         <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a60c2ce3fbd57bc6abeb003d6c72b7d5c" title="Returns the blue channel of the material color [0,255] or -1 if unspecified.">blue</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> b;} 
<a name="l00061"></a><a class="code" href="class_c_v_x___material.html#a0f3e0726e75bb117552531fa6b999790">00061</a>         <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#a0f3e0726e75bb117552531fa6b999790" title="Returns the alpha channel of the material color [0,255] or -1 if unspecified.">alpha</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> a;} 
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="comment">//Material Model</span>
<a name="l00064"></a>00064         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#a10439878d6c7a2cc1b4111ffa44c7368" title="Defines the physical material behavior with a series of true stress/strain data points.">setModel</a>(<span class="keywordtype">int</span> dataPointCount, <span class="keywordtype">float</span>* pStrainValues, <span class="keywordtype">float</span>* pStressValues); 
<a name="l00065"></a>00065         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#a3e38a70f68d9769cd9f1ba7b2f9bfe6e" title="Convenience function to quickly define a linear material.">setModelLinear</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a49417b8d1d3fe8f443e2cec5b142dded" title="Returns Youngs modulus in Pa.">youngsModulus</a>, <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a80869fcfa8d8f70f2981300935a47b47" title="Returns the failure stress in Pa or -1 if unspecified.">failureStress</a>=-1); 
<a name="l00066"></a>00066         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#a793f493abbc4fbf7e95ed1327a134f70" title="Convenience function to quickly define a bilinear material.">setModelBilinear</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a49417b8d1d3fe8f443e2cec5b142dded" title="Returns Youngs modulus in Pa.">youngsModulus</a>, <span class="keywordtype">float</span> plasticModulus, <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a1c47ae0709a37fb88393bcbaa387af00" title="Returns the yield stress in Pa or -1 if unspecified.">yieldStress</a>, <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a80869fcfa8d8f70f2981300935a47b47" title="Returns the failure stress in Pa or -1 if unspecified.">failureStress</a>=-1); 
<a name="l00067"></a><a class="code" href="class_c_v_x___material.html#a95ea0579e85853ae15e23feb7d77686c">00067</a>         <span class="keywordtype">bool</span> <a class="code" href="class_c_v_x___material.html#a95ea0579e85853ae15e23feb7d77686c" title="Returns true if the material model is a simple linear behavior.">isModelLinear</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> linear;} 
<a name="l00068"></a>00068         
<a name="l00069"></a><a class="code" href="class_c_v_x___material.html#a49417b8d1d3fe8f443e2cec5b142dded">00069</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a49417b8d1d3fe8f443e2cec5b142dded" title="Returns Youngs modulus in Pa.">youngsModulus</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> E;} 
<a name="l00070"></a><a class="code" href="class_c_v_x___material.html#a1c47ae0709a37fb88393bcbaa387af00">00070</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a1c47ae0709a37fb88393bcbaa387af00" title="Returns the yield stress in Pa or -1 if unspecified.">yieldStress</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> sigmaYield;} 
<a name="l00071"></a><a class="code" href="class_c_v_x___material.html#a80869fcfa8d8f70f2981300935a47b47">00071</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a80869fcfa8d8f70f2981300935a47b47" title="Returns the failure stress in Pa or -1 if unspecified.">failureStress</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> sigmaFail;} 
<a name="l00072"></a><a class="code" href="class_c_v_x___material.html#aeae66e8144c44815b298f15fa4884d92">00072</a>         <span class="keywordtype">int</span> <a class="code" href="class_c_v_x___material.html#aeae66e8144c44815b298f15fa4884d92" title="Returns the number of data points in the current material model data arrays.">modelDataPoints</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> strainData.size();} 
<a name="l00073"></a><a class="code" href="class_c_v_x___material.html#a9e6f49ff86e3cdb3584d5d71021b3370">00073</a>         <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="class_c_v_x___material.html#a9e6f49ff86e3cdb3584d5d71021b3370" title="Returns a pointer to the first strain value data point in a continuous array. The number of values ca...">modelDataStrain</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> &amp;strainData[0];} 
<a name="l00074"></a><a class="code" href="class_c_v_x___material.html#a8a17ac463c84dec860f9c263ea2a7bec">00074</a>         <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="class_c_v_x___material.html#a8a17ac463c84dec860f9c263ea2a7bec" title="Returns a pointer to the first stress value data point in a continuous array. The number of values ca...">modelDataStress</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> &amp;stressData[0];} 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a0dc883753a5c4fdff3d7b894e4d754d6" title="Defines Poisson&#39;s ratio for the material.">setPoissonsRatio</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a616b8707d4eae84f2f990ed20b374fa9" title="Returns the current Poissons ratio.">poissonsRatio</a>); 
<a name="l00077"></a><a class="code" href="class_c_v_x___material.html#a616b8707d4eae84f2f990ed20b374fa9">00077</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a616b8707d4eae84f2f990ed20b374fa9" title="Returns the current Poissons ratio.">poissonsRatio</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> nu;} 
<a name="l00078"></a><a class="code" href="class_c_v_x___material.html#ae5ded8c2803a1c9a2285a15cd0c0595e">00078</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#ae5ded8c2803a1c9a2285a15cd0c0595e" title="Calculates the bulk modulus from Young&#39;s modulus and Poisson&#39;s ratio.">bulkModulus</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> E/(3*(1-2*nu));} 
<a name="l00079"></a><a class="code" href="class_c_v_x___material.html#ac1c2edaff86e2446ccaba1b92bd75151">00079</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#ac1c2edaff86e2446ccaba1b92bd75151" title="Calculates Lame&#39;s first parameter from Young&#39;s modulus and Poisson&#39;s ratio.">lamesFirstParameter</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> (E*nu)/((1+nu)*(1-2*nu));} 
<a name="l00080"></a><a class="code" href="class_c_v_x___material.html#a017272d94b8c1e6d40320afc3e373a51">00080</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a017272d94b8c1e6d40320afc3e373a51" title="Calculates the shear modulus from Young&#39;s modulus and Poisson&#39;s ratio.">shearModulus</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> E/(2*(1+nu));} 
<a name="l00081"></a>00081         <span class="keywordtype">bool</span> isConstantArea()<span class="keyword"> const </span>{<span class="keywordflow">return</span> nu==0.0f;} <span class="comment">//needs rename?</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083         <span class="comment">//other material properties</span>
<a name="l00084"></a>00084         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a835edeb38403913f17614bbec7ec4003" title="Defines the density for the material in Kg/m^3.">setDensity</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a567cf6aac0d1bbe459d9ad02402d2cda" title="Returns the current density.">density</a>); 
<a name="l00085"></a><a class="code" href="class_c_v_x___material.html#a567cf6aac0d1bbe459d9ad02402d2cda">00085</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a567cf6aac0d1bbe459d9ad02402d2cda" title="Returns the current density.">density</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> rho;} 
<a name="l00086"></a>00086         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#ab1908b8c5d126c17236f9247ea56247c" title="Defines the coefficient of static friction.">setStaticFriction</a>(<span class="keywordtype">float</span> staticFrictionCoefficient); 
<a name="l00087"></a><a class="code" href="class_c_v_x___material.html#a32be44ebe87f70ffb8c99cb3fcbc151c">00087</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a32be44ebe87f70ffb8c99cb3fcbc151c" title="Returns the current coefficient of static friction.">staticFriction</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> muStatic;} 
<a name="l00088"></a>00088         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a6a0c944223f97897ab04baf14b3488b6" title="Defines the coefficient of kinetic friction.">setKineticFriction</a>(<span class="keywordtype">float</span> kineticFrictionCoefficient); 
<a name="l00089"></a><a class="code" href="class_c_v_x___material.html#ad2f0add38ad1d1aab6afd44fcdc86862">00089</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#ad2f0add38ad1d1aab6afd44fcdc86862" title="Returns the current coefficient of kinetic friction.">kineticFriction</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> muKinetic;} 
<a name="l00090"></a>00090 
<a name="l00091"></a>00091         <span class="comment">//damping</span>
<a name="l00092"></a>00092         <span class="comment">//http://www.roush.com/Portals/1/Downloads/Articles/Insight.pdf</span>
<a name="l00093"></a>00093         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a41337f6fc408c30b112d72baa14f05e2" title="Defines the internal material damping ratio. The effect is to damp out vibrations within a structure...">setInternalDamping</a>(<span class="keywordtype">float</span> zeta); 
<a name="l00094"></a><a class="code" href="class_c_v_x___material.html#a70c305432f25c30fd9b8b1c85a1c8fa6">00094</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a70c305432f25c30fd9b8b1c85a1c8fa6" title="Returns the internal material damping ratio.">internalDamping</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> zetaInternal;} 
<a name="l00095"></a>00095         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#af3f9d3a676ac2a08931c2aa98a879732" title="Defines the viscous damping of any voxels using this material relative to ground (no motion)...">setGlobalDamping</a>(<span class="keywordtype">float</span> zeta); 
<a name="l00096"></a><a class="code" href="class_c_v_x___material.html#afee4df1a2ce6e760f6a1cb9b9f8f65cc">00096</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#afee4df1a2ce6e760f6a1cb9b9f8f65cc" title="Returns the global material damping ratio.">globalDamping</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> zetaGlobal;} 
<a name="l00097"></a>00097         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#ac1f148b078e8c68e8e13194ee90b076c" title="Defines the material damping ratio for when this material collides with something. This gives some control over the elasticity of a collision. A value of zero results in a completely elastic collision.">setCollisionDamping</a>(<span class="keywordtype">float</span> zeta); 
<a name="l00098"></a><a class="code" href="class_c_v_x___material.html#a1b2136ac35157ef969bcf09645029a2c">00098</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a1b2136ac35157ef969bcf09645029a2c" title="Returns the collision material damping ratio.">collisionDamping</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> zetaCollision;} 
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="comment">//size and scaling</span>
<a name="l00102"></a>00102         <span class="comment">//bool setNominalSize(double size); //!&lt; Sets the nominal cubic voxel size in order to calculate mass, moments of inertia, etc of this material. In ordinary circumstances this should be controlled by the overall simulation and never called directly. Use setExternalScaleFactor() if you wish to change the size of voxels of this material. @param[in] size The size of a voxel as measured by its linear outer dimension. (units: meters)</span>
<a name="l00103"></a>00103         <span class="comment">//double nominalSize(){return nomSize;} //!&lt; Returns the nominal cubic voxel size in meters.</span>
<a name="l00104"></a>00104         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a6aae5fd6e36b1164f4e51ccc99d19dba" title="Scales all voxels of this material by a specified factor in each dimension (1.0 is no scaling)...">setExternalScaleFactor</a>(<a class="code" href="class_vec3_d.html">Vec3D&lt;double&gt;</a> factor); 
<a name="l00105"></a><a class="code" href="class_c_v_x___material.html#a9e4a59134d81e4bcbf47c6bd3ceef004">00105</a>         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#a9e4a59134d81e4bcbf47c6bd3ceef004" title="Convenience function to specify isotropic external scaling factor. See setExternalScaleFactor(Vec3D&lt;&gt;...">setExternalScaleFactor</a>(<span class="keywordtype">double</span> factor) {<a class="code" href="class_c_v_x___material.html#a9e4a59134d81e4bcbf47c6bd3ceef004" title="Convenience function to specify isotropic external scaling factor. See setExternalScaleFactor(Vec3D&lt;&gt;...">setExternalScaleFactor</a>(<a class="code" href="class_vec3_d.html">Vec3D&lt;double&gt;</a>(factor, factor, factor));} 
<a name="l00106"></a><a class="code" href="class_c_v_x___material.html#a2401d8a15bacc84cef3e5bc508143cd9">00106</a>         <a class="code" href="class_vec3_d.html">Vec3D&lt;double&gt;</a> <a class="code" href="class_c_v_x___material.html#a2401d8a15bacc84cef3e5bc508143cd9" title="Returns the current external scaling factor (unitless). See description of setExternalScaleFactor().">externalScaleFactor</a>() {<span class="keywordflow">return</span> extScale;} 
<a name="l00107"></a>00107         <span class="comment">//Vec3D&lt;double&gt; size() {return nomSize*extScale;} //!&lt; Returns the current nominal size (in meters) of all voxels of this material-including external scaling factors. The size is calculated according to baseSize()*externalScaleFactor(). This represents the nominal size for voxels of this material, and every instantiated voxel may have a different actual size based on the forces acting upon it in context. This value does not include thermal expansions and contractions which may also change the nominal size of a given voxel depending on its CTE and current temperature.</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="comment">//thermal expansion</span>
<a name="l00110"></a><a class="code" href="class_c_v_x___material.html#aeef799caa14b0f84a57f7051e6af3012">00110</a>         <span class="keywordtype">void</span> <a class="code" href="class_c_v_x___material.html#aeef799caa14b0f84a57f7051e6af3012" title="Defines the coefficient of thermal expansion.">setCte</a>(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a68182bcd58bc9e8960a4c8753646adda" title="Returns the current coefficient of thermal expansion per degree C.">cte</a>) {alphaCTE=<a class="code" href="class_c_v_x___material.html#a68182bcd58bc9e8960a4c8753646adda" title="Returns the current coefficient of thermal expansion per degree C.">cte</a>;} 
<a name="l00111"></a><a class="code" href="class_c_v_x___material.html#a68182bcd58bc9e8960a4c8753646adda">00111</a>         <span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#a68182bcd58bc9e8960a4c8753646adda" title="Returns the current coefficient of thermal expansion per degree C.">cte</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> alphaCTE;} 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         <span class="comment">//mass and inertia</span>
<a name="l00114"></a>00114         <span class="comment">//float mass(){return _mass;} //!&lt;Returns the mass of a voxel of this material in Kg. Mass cannot be specified directly. Mass is indirectly calculated according to setDensity() and setBaseSize().</span>
<a name="l00115"></a>00115         <span class="comment">//float momentInertia(){return _momentInertia;} //!&lt;Returns the first moment of inertia of a voxel of this material in kg*m^2. This quantity is indirectly calculated according to setDensity() and setBaseSize().</span>
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="keyword">protected</span>:
<a name="l00118"></a>00118         <span class="comment">//CVX_Material *vox1Mat, *vox2Mat; //if a combined material, the two source materials</span>
<a name="l00119"></a>00119         std::string error; <span class="comment">//records the last error encountered</span>
<a name="l00120"></a>00120         std::string myName; <span class="comment">//default is &quot;&quot; (empty)</span>
<a name="l00121"></a>00121         <span class="keywordtype">int</span> r, g, b, a; <span class="comment">//defaults are -1</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="comment">//material model</span>
<a name="l00124"></a>00124         <span class="keywordtype">bool</span> linear;
<a name="l00125"></a>00125         <span class="keywordtype">float</span> E; <span class="comment">//youngs modulus</span>
<a name="l00126"></a>00126         <span class="keywordtype">float</span> sigmaYield; <span class="comment">//yield stress</span>
<a name="l00127"></a>00127         <span class="keywordtype">float</span> sigmaFail; <span class="comment">//failure stress</span>
<a name="l00128"></a>00128         <span class="keywordtype">float</span> epsilonYield; <span class="comment">//yield strain (internal use only for now)</span>
<a name="l00129"></a>00129         <span class="keywordtype">float</span> epsilonFail; <span class="comment">//failure strain (internal use only for now)</span>
<a name="l00130"></a>00130         std::vector&lt;float&gt; strainData; <span class="comment">//strain data points</span>
<a name="l00131"></a>00131         std::vector&lt;float&gt; stressData; <span class="comment">//stress data points</span>
<a name="l00132"></a>00132         <span class="keywordtype">float</span> nu; <span class="comment">//poissonsRatio</span>
<a name="l00133"></a>00133         <span class="keywordtype">float</span> rho; <span class="comment">//density in Kg/m^3</span>
<a name="l00134"></a>00134         <span class="keywordtype">float</span> alphaCTE; <span class="comment">//CTE</span>
<a name="l00135"></a>00135         <span class="keywordtype">float</span> muStatic; <span class="comment">//static coefficient of friction</span>
<a name="l00136"></a>00136         <span class="keywordtype">float</span> muKinetic; <span class="comment">//kinetic coefficient of friction</span>
<a name="l00137"></a>00137         <span class="keywordtype">float</span> zetaInternal; <span class="comment">//internal damping ratio</span>
<a name="l00138"></a>00138         <span class="keywordtype">float</span> zetaGlobal; <span class="comment">//global damping ratio</span>
<a name="l00139"></a>00139         <span class="keywordtype">float</span> zetaCollision; <span class="comment">//collision damping ratio</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="comment">//the nominal size is needed to calculate mass, etc.</span>
<a name="l00142"></a>00142         <a class="code" href="class_vec3_d.html">Vec3D&lt;double&gt;</a> extScale; <span class="comment">//default of (1,1,1) - prescribed scaling</span>
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <span class="comment">//derived quantities to cache</span>
<a name="l00145"></a>00145         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> updateAll() {<span class="keywordflow">return</span> <span class="keyword">false</span>;} <span class="comment">//updates/recalculates eveything possible (used by inherited classed)</span>
<a name="l00146"></a>00146         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> updateDerived(); <span class="comment">//updates all the derived quantities cache (based on density, size and elastic modulus</span>
<a name="l00147"></a>00147         <span class="keywordtype">float</span> _eHat; <span class="comment">// = E unless poissons ratio is non-zero.</span>
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         <span class="comment">//private methods</span>
<a name="l00150"></a>00150         <span class="keywordtype">bool</span> setYieldFromData(<span class="keywordtype">float</span> percentStrainOffset=0.2); <span class="comment">//sets sigmaYield and epsilonYield assuming strainData, stressData, E, and failStr are set correctly.</span>
<a name="l00151"></a>00151         <span class="keywordtype">float</span> strain(<span class="keywordtype">float</span> <a class="code" href="class_c_v_x___material.html#aaa9dde97d15b2302f0ca17afbe770a8e" title="returns the stress of the material model accounting for volumetric strain effects.">stress</a>); <span class="comment">//returns a simple reverse lookup of the first strain that yields this stress from data point lookup</span>
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <span class="comment">//Future parameters:</span>
<a name="l00154"></a>00154         <span class="comment">//piezo?</span>
<a name="l00155"></a>00155         <span class="comment">//compressive strength? (/compressive data)</span>
<a name="l00156"></a>00156         <span class="comment">//heat conduction</span>
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         std::vector&lt;CVX_Material*&gt; dependentMaterials; <span class="comment">//any materials in this list will have updateDerived() called whenever it&#39;s called for this material. For updatng link materials when one or both voxel materials change)</span>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <span class="keywordtype">void</span> writeJSON(rapidjson::PrettyWriter&lt;rapidjson::StringBuffer&gt;&amp; w);
<a name="l00161"></a>00161         <span class="keywordtype">bool</span> readJSON(rapidjson::Value&amp; mat);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_voxelyze.html" title="Defines and simulates a configuration of voxels.">CVoxelyze</a>; <span class="comment">//give the main simulation class full access</span>
<a name="l00164"></a>00164         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_v_x___voxel.html" title="Defines a specific instance of a voxel and holds its current state.">CVX_Voxel</a>; <span class="comment">//give our voxel class direct access to all the members for quick access};</span>
<a name="l00165"></a>00165         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_v_x___link.html" title="Defines a solid link between two adjacent voxels and holds its current state.">CVX_Link</a>; 
<a name="l00166"></a>00166 };
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="preprocessor">#endif //VX_MATERIAL_H</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 8 2015 19:03:25 for Voxelyze by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
